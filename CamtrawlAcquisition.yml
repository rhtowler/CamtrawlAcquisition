# CamtrawlAcquisition.yml
#
# For more info about the sections and various parameters see
# CamtrawlAcquisition_Example.yml.
#

application:

    output_mode: separate
    output_path: /camtrawl/image_data
    #output_path: C:/Camtrawl/data
    log_level: INFO
    always_trigger_at_start: True
    shut_down_on_exit:  False


acquisition:

    trigger_rate: 10
    trigger_limit: 10000


server:

    start_server: True
    server_interface: 0.0.0.0
    server_port: 7889


controller:

    use_controller: True
    serial_port: /dev/ttySAC0
    baud_rate: 921600
    strobe_pre_fire:  100
    strobe_channel: 3


sensors:

    default_type: synchronous
    synchronous: [$OHPR]
    asynchronous: [$CTCS,  $SBCS,  $IMUC,  $CTSV]
    synchronous_timeout: 5


cameras:

    # Here are some simple examples of camera specific settings.
    Chameleon3 CM3-U3-31S4M_16081034:
        gain: 25
        exposure_us: 1000
        label: right
        rotation:  None
        trigger_divider: 1
        trigger_source: Hardware
        controller_trigger_port: 1
        sensor_binning: 2

        save_stills: True
        still_image_divider: 5
        still_image_extension: .jpg
        jpeg_quality: 90
        image_scale: 100

        save_video: True
        video_preset: x264-fast
        video_scale:  100
        video_frame_divider: 1
        video_force_framerate: -1


    Chameleon3 CM3-U3-31S4C_16153944:
        gain: 25
        exposure_us: 1000
        label: left
        rotation:  None
        trigger_divider: 5
        trigger_source: Hardware
        controller_trigger_port: 2
        sensor_binning: 2

        save_stills: True
        still_image_extension: .jpg
        still_image_divider: 5
        jpeg_quality: 80
        image_scale: 100

        save_video: False
        video_preset: x264-fast
        video_scale:  100
        video_frame_divider: 1
        video_force_framerate: -1

    default:
        gain: 16
        exposure_us: 8000
        label: camera
        rotation:  None
        trigger_divider: 1
        save_image_divider: 1
        trigger_source: Software

        save_stills: True
        still_image_extension: .jpg
        still_image_divider: 1
        jpeg_quality: 90
        image_scale: 100

        save_video: False
        video_preset: x264-fast
        video_scale:  100
        video_frame_divider: 1
        video_force_framerate: -1

        hdr_enabled: False
        hdr_save_merged:  False
        hdr_signal_merged:  False
        hdr_merge_method:  mertens
        hdr_save_format:  hdr
        hdr_response_file: None
        hdr_tonemap_gamma: 2.0
        hdr_tonemap_saturation: 1.0
        hdr_tonemap_bias: 0.85

        hdr_settings:
            Image1:
                exposure: 1000
                gain: 15
                emit_signal: False
                save_image:  True
            Image2:
                exposure: 2500
                gain: 15
                emit_signal: False
                save_image: True
            Image3:
                exposure: 5000
                gain: 20
                emit_signal: False
                save_image:  True
            Image4:
                exposure: 10000
                gain:  20
                emit_signal: False
                save_image:  True
